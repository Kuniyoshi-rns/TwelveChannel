<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>ホーム</title>
    <link href="" rel="stylesheet">
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
</head>

<body>
<div>
    <header>
        <div class="parent">
            <div>
                <img id="title" src="images/title.png">
            </div>
            <div class="right">
                <button id="myPage">マイページ</button>
                <button id="logout">ログアウト</button>
            </div>
        </div>
    </header>
    <hr>

    <div>
        <form method="get" action="/home">
            <select name="order">
                <option>並び替え</option>
                <option>新しい順</option>
                <option>古い順</option>
            </select>
            <div>
                <input type="text" name="keyword" size="25" placeholder="キーワード検索">
                <input type="submit" value="&#xf002">
            </div>
            <button type="submit">新規投稿</button>
        </form>
    </div>

    <p th:text="${test}"></p>
    <div th:each="thread:${threads}">
        <p>No.<span th:text="${thread.id}"></span></p>
        <p>
            <a th:href="@{/thread?title={title}(title=${thread.thread_title})}" th:text="${thread.thread_title}" ></a>
            -
            <span th:each="tag:${tags}">
                <a th:href="@{/home?word={word}(word=${tag.tag})}" th:text="'#'+${tag.tag}" th:if="${thread.id==tag.thread_id}"></a>
            </span>
        </p>

        <div th:each="count:${comment_count}">
            <p th:if="${thread.id==count.thread_id}">コメント:<span th:text="${count.count}"></span></p>
        </div>

        <div th:each="favorite:${favorites}">
            <p th:if="${thread.id==favorite.thread_id}">いいね:<span th:text="${favorite.count}"></span></p>
        </div>
    </div>


    <a th:href="@{/home?offset={offset} (offset=${offset-5})}" th:if="${offset>=5}">次へ</a>
    <span><p th:text="${thread_page}"></p>/<p th:text="${thread_all}"></p>...ページ</span>
    <a th:href="@{/home?offset={offset} (offset=${offset+5})}" th:if="${thread_page<thread_all}">前へ</a>

</div>
</body>
</html>